@import "tailwindcss";

:root {
    --background: #ffffff;
    --foreground: #171717;
    --font-sans: var(--font-inter);
}

.dark {
    --background: #09090b;
    --foreground: #fafafa;
}

@layer base {

    html {
        height: 100%;
        height: 100dvh;
    }

    body {
        height: 100%;
        height: 100dvh;
        /* Account for iOS safe area at the bottom (home indicator) */
        padding-bottom: env(safe-area-inset-bottom, 0px);
        overflow: hidden;
        background-color: var(--background);
        color: var(--foreground);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Mobile viewport fix - ensures full height on mobile browsers */
    @supports (height: 100dvh) {
        html {
            min-height: 100dvh;
            max-height: 100dvh;
        }

        body {
            min-height: 100dvh;
            /* Subtract safe area from the height to prevent bottom trimming */
            height: calc(100dvh - env(safe-area-inset-bottom, 0px));
        }
    }
}

@layer utilities {
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    /* Sleek Scrollbars */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb {
        background: #e2e8f0;
        border-radius: 10px;
        border: 2px solid transparent;
        background-clip: content-box;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #cbd5e1;
        background-clip: content-box;
    }
}

@media print {
    @page {
        margin: 1cm;
    }

    body * {
        visibility: hidden;
    }

    /* Only show the chat container and its children */
    #learnpilot-chat-container,
    #learnpilot-chat-container * {
        visibility: visible;
    }

    /* Position it to fill the page, removing UI frames */
    #learnpilot-chat-container {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        /* Auto height usually better for scrolling content but if we want to capture all, auto is good. */
        margin: 0 !important;
        padding: 0 !important;
        border: none !important;
        border-radius: 0 !important;
        box-shadow: none !important;
        background: white !important;
        overflow: visible !important;
        /* Allow content to flow to next pages */
        display: block !important;
        /* Override flex if needed for flow */
    }

    /* Ensure scrollable area expands to fit content */
    #learnpilot-chat-container>div {
        overflow: visible !important;
        height: auto !important;
        max-height: none !important;
    }

    /* Hide the Input Area explicitly if it was inside the container, but it's outside. 
       However, if I messed up the DOM tree understanding, I'll hide it just in case. */
    form,
    input,
    button {
        display: none !important;
    }

    /* Hide scrollbars */
    ::-webkit-scrollbar {
        display: none;
    }

    /* --- Revision Notes Print Styles --- */
    #revision-notes-container,
    #revision-notes-container * {
        visibility: visible;
    }

    #revision-notes-container {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        margin: 0 !important;
        padding: 0 !important;
        border: none !important;
        box-shadow: none !important;
    }
}